{"version":3,"file":"fileSystem.js","names":["Channel","Chunk","GenericTag","Effect","identity","pipe","Layer","Option","Sink","Stream","Error","tag","Size","bytes","BigInt","KiB","n","MiB","GiB","TiB","bigint1024","bigintPiB","PiB","make","impl","of","exists","path","access","as","catchTag","e","reason","succeed","fail","readFileString","encoding","tryMap","readFile","try","_","TextDecoder","decode","catch","cause","BadArgument","module","method","description","stream","options","open","flag","offset","tap","file","seek","map","unwrapScoped","sink","forEach","writeAll","writeFileString","data","flatMap","TextEncoder","encode","writeFile","notFound","SystemError","pathOrDescriptor","makeNoop","fileSystem","chmod","chown","copy","copyFile","link","makeDirectory","die","makeTempDirectory","makeTempDirectoryScoped","makeTempFile","makeTempFileScoped","readDirectory","readLink","realPath","remove","void","rename","oldPath","stat","symlink","fromPath","truncate","utimes","watch","layerNoop","bufferSize","bytesToRead","bytesToRead_","chunkSize","chunkSize_","undefined","loop","totalBytesRead","toRead","readAlloc","match","onNone","onSome","buf","write","length","bufferChunks","fromChannel","capacity"],"sources":["../../../src/internal/fileSystem.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}