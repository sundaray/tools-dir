{"version":3,"file":"HttpApiEndpoint.js","names":["Context","Option","pipeArguments","Predicate","Schema","HttpApiSchema","HttpRouter","TypeId","Symbol","for","isHttpApiEndpoint","u","hasProperty","Proto","pipe","arguments","addSuccess","schema","annotations","status","makeProto","successSchema","NoContent","UnionUnify","addError","errorSchema","setPayload","payloadSchema","some","setPath","pathSchema","setUrlParams","urlParamsSchema","setHeaders","headersSchema","prefix","path","prefixPath","middleware","failure","middlewares","Set","annotate","tag","value","add","annotateContext","context","merge","options","Object","assign","create","make","method","name","args","length","none","Never","empty","segments","schemas","replace","obj","i","key","getParam","ast","String","optional","_tag","from","isOptional","Struct","get","post","put","patch","del","head"],"sources":["../../src/HttpApiEndpoint.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}