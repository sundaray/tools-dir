{"version":3,"file":"HttpApiEndpoint.js","names":["Context","_interopRequireWildcard","require","Option","_Pipeable","Predicate","Schema","HttpApiSchema","HttpRouter","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","TypeId","exports","Symbol","for","isHttpApiEndpoint","u","hasProperty","Proto","pipe","pipeArguments","arguments","addSuccess","schema","annotations","status","makeProto","successSchema","NoContent","UnionUnify","addError","errorSchema","setPayload","payloadSchema","some","setPath","pathSchema","setUrlParams","urlParamsSchema","setHeaders","headersSchema","prefix","path","prefixPath","middleware","failure","middlewares","Set","annotate","tag","value","add","annotateContext","context","merge","options","assign","create","make","method","name","args","length","none","Never","empty","segments","schemas","replace","obj","key","getParam","ast","String","optional","_tag","from","isOptional","Struct","post","put","patch","del","head"],"sources":["../../src/HttpApiEndpoint.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}