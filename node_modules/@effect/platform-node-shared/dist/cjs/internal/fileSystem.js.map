{"version":3,"file":"fileSystem.js","names":["_Effectify","require","Error","_interopRequireWildcard","FileSystem","Effect","_Function","Layer","Option","Stream","Crypto","NFS","OS","Path","_error","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","handleBadArgument","method","cause","BadArgument","module","access","nodeAccess","effectify","handleErrnoException","path","options","mode","constants","F_OK","readable","R_OK","writable","W_OK","copy","nodeCp","cp","fromPath","toPath","force","overwrite","preserveTimestamps","recursive","copyFile","nodeCopyFile","chmod","nodeChmod","chown","nodeChown","uid","gid","link","nodeLink","existingPath","newPath","makeDirectory","nodeMkdir","mkdir","makeTempDirectoryFactory","nodeMkdtemp","mkdtemp","suspend","prefix","directory","join","tmpdir","makeTempDirectory","removeFactory","nodeRm","rm","remove","makeTempDirectoryScoped","removeDirectory","acquireRelease","orDie","openFactory","nodeOpen","open","nodeClose","close","pipe","flag","fd","map","makeFile","FileDescriptor","startsWith","nodeReadFactory","read","nodeRead","nodeReadAlloc","nodeStat","fstat","nodeTruncate","ftruncate","nodeSync","fsync","nodeWriteFactory","write","nodeWrite","nodeWriteAll","FileImpl","append","FileTypeId","semaphore","unsafeMakeSemaphore","position","constructor","stat","makeFileInfo","sync","seek","offset","from","offsetSize","Size","withPermits","buffer","bytesRead","sizeRead","readAlloc","size","sizeNumber","Number","flatMap","Buffer","allocUnsafeSlow","none","BigInt","some","dst","truncate","length","undefined","len","bytesWritten","sizeWritten","writeAllChunk","fail","SystemError","reason","pathOrDescriptor","description","subarray","void","writeAll","makeTempFileFactory","randomHexString","bytes","randomBytes","toString","zip","random","tap","scoped","makeTempFile","makeTempFileScoped","file","dirname","readDirectory","tryPromise","try","promises","readdir","catch","err","readFile","async","resume","signal","data","succeed","readLink","nodeReadLink","readlink","realPath","nodeRealPath","realpath","rename","nodeRename","oldPath","type","isFile","isDirectory","isSymbolicLink","isBlockDevice","isCharacterDevice","isFIFO","isSocket","mtime","fromNullable","atime","birthtime","dev","rdev","ino","nlink","blksize","blocks","symlink","nodeSymlink","target","utimes","nodeUtimes","watchNode","asyncScoped","emit","watcher","watch","event","fromEffect","matchEffect","onSuccess","_","WatchEventCreate","onFailure","_tag","WatchEventRemove","single","WatchEventUpdate","on","error","end","backend","register","getOrElse","unwrap","writeFile","makeFileSystem","serviceOption","WatchBackend","make","layer","exports","effect"],"sources":["../../../src/internal/fileSystem.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}