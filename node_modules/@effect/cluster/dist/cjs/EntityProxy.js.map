{"version":3,"file":"EntityProxy.js","names":["HttpApiEndpoint","_interopRequireWildcard","require","HttpApiGroup","Rpc","RpcGroup","Schema","_ClusterError","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","clientErrors","MailboxFull","AlreadyProcessingMessage","PersistenceError","EntityNotManagedByRunner","toRpcGroup","entity","rpcs","parentRpc_","protocol","requests","values","parentRpc","payloadSchema","Struct","entityId","String","payload","oldMake","make","input","options","rpc","type","_tag","error","Union","errorSchema","success","successSchema","annotateContext","annotations","rpcDiscard","push","exports","entityIdPath","toHttpApiGroup","name","group","endpoint","post","tagToPath","setPath","setPayload","addSuccess","addError","endpointDiscard","add","tag","replace","toLowerCase"],"sources":["../../src/EntityProxy.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}