{"version":3,"file":"Message.js","names":["Rpc","_interopRequireWildcard","require","Data","Effect","FiberRef","Option","Schema","_ClusterError","Envelope","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","incomingLocalFromOutgoing","self","_tag","IncomingEnvelope","envelope","IncomingRequestLocal","respond","lastSentReply","none","exports","IncomingRequest","TaggedClass","OutgoingRequest","encodedCache","OutgoingEnvelope","interrupt","options","Interrupt","rpc","neverRpc","make","success","Never","error","payload","serialize","message","succeed","suspend","serializeRequest","serializeEnvelope","flatMap","MalformedMessage","refail","encode","PartialEncoded","payloadSchema","pipe","locally","currentContext","context","map","deserializeLocal","encoded","fail","cause","Error","decode","makeRequest"],"sources":["../../src/Message.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}