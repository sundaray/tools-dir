{"version":3,"file":"RequestResolver.js","names":["Arr","Effect","Either","Fiber","dual","pipe","Option","Request","RequestResolver","Runtime","Scope","Persistence","dataLoader","fnUntraced","self","options","maxSize","maxBatchSize","Infinity","scope","runtime","interruptible","runFork","batch","Set","process","items","withRequestCaching","forEach","request","resume","exit","map","batching","discard","delayedProcess","sleep","window","flatMap","currentBatch","fiber","undefined","addFinalizer","suspend","interrupt","void","fromEffect","async","item","add","size","parent","getOrThrow","getCurrentFiber","unsafeInterruptAsFork","id","sync","delete","persisted","gen","storage","ResultPersistence","make","storeId","timeToLive","partition","requests","getMany","partitionMap","_","i","match","onNone","left","onSome","right","orElseSucceed","set","result","ignoreLogged","makeBatched","remaining","results","completeCached","complete","completeUncached","zipRight"],"sources":["../../src/RequestResolver.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}